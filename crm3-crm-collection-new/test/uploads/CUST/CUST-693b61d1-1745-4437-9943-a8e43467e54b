[{"detail":{"_extra":[],"attrs":[{"code":"amount","created_at":"2020-08-25 06:50:49","created_by":"1","data_type$code":"double","data_type_id":"3","entity$code":"mfo_paybox_refunds","entity_id":"1082","hide_field":"0","id":"11406","is_formula":"0","len":"0","restrict_edit":"0","rq":"0","short_title":"с","show_col":"0","sys$uuid":"b6dfc7f7-c339-448b-ada5-783a0f76e49d","title":"Сумма, которая будет списана с магазина","updated_at":"2020-08-25 06:50:49","uq":"0"},{"code":"code","created_at":"2020-08-25 07:48:54","data_type$code":"varchar","data_type_id":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"11408","len":"30","rq":"0","short_title":"Code","sys$uuid":"4bdef0cd-d069-4e53-ace9-3fabcd1a4285","title":"Code","updated_at":"2020-08-25 07:48:54","uq":"1"},{"code":"created_at","created_at":"2020-08-25 07:48:54","data_type$code":"current_datetime","data_type_id":"15","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"11410","len":"0","rq":"0","short_title":"Created At","sys$uuid":"4df4c5ab-f27d-45b9-a7c5-6b7441ca0698","title":"Created At","updated_at":"2020-08-25 07:48:54","uq":"0"},{"code":"created_by","created_at":"2020-08-25 07:48:54","data_type$code":"reference","data_type_id":"7","entity$code":"mfo_paybox_refunds","entity_id":"1082","entity_link$code":"users","entity_link_id":"22","id":"11412","is_default_current_user":"1","len":"0","rq":"0","short_title":"Created By","show_col":"0","sys$uuid":"9d7c9648-16f4-45d6-a6ee-afeb2abdc5ee","title":"Created By","updated_at":"2020-08-25 07:48:54","uq":"0"},{"code":"dt","created_at":"2020-08-25 06:40:51","created_by":"1","data_type$code":"timestamp","data_type_id":"4","entity$code":"mfo_paybox_refunds","entity_id":"1082","hide_field":"0","id":"11403","is_formula":"0","len":"0","restrict_edit":"0","rq":"0","short_title":"д","show_col":"1","sys$uuid":"065fd945-2b40-4367-b2bf-4c6efc6708bf","title":"дата отмены","updated_at":"2020-08-25 06:40:51","uq":"0"},{"code":"id","created_at":"2020-08-25 07:48:54","data_type$code":"serial","data_type_id":"8","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"11407","len":"0","rq":"0","short_title":"Id","sys$uuid":"99b6428e-7fa4-4d4e-a2e2-b68911c63541","title":"Id","updated_at":"2020-08-25 07:48:54","uq":"0"},{"code":"order_id","created_at":"2020-08-25 06:31:47","created_by":"1","data_type$code":"reference","data_type_id":"7","entity$code":"mfo_paybox_refunds","entity_id":"1082","entity_link$code":"mfo_paybox_orders","entity_link_id":"1083","hide_field":"0","id":"11401","is_default_current_user":"0","is_formula":"0","len":"0","restrict_edit":"0","rq":"0","short_title":"с","show_col":"1","sys$uuid":"5c5fe096-4dd2-44de-a068-e3588747fa57","title":"ссылка на платеж","updated_at":"2020-08-25 06:31:47","uq":"0"},{"code":"paybox_refund_id","created_at":"2020-08-25 06:47:16","created_by":"1","data_type$code":"integer","data_type_id":"2","entity$code":"mfo_paybox_refunds","entity_id":"1082","hide_field":"0","id":"11404","is_formula":"0","len":"0","restrict_edit":"0","rq":"0","short_title":"у","show_col":"0","sys$uuid":"07ac2858-b2b4-4991-86b9-0481fe63ea74","title":"Уникальный идентификатор возврата PayBox","updated_at":"2020-08-25 06:47:16","uq":"0"},{"code":"ps_currency","created_at":"2020-08-25 06:49:13","created_by":"1","data_type$code":"varchar","data_type_id":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","hide_field":"0","id":"11405","is_formula":"0","len":"3","restrict_edit":"0","rq":"0","short_title":"в","show_col":"1","sys$uuid":"226bfee2-9330-4657-91a6-e348b6d9e867","title":"Валюта, в которой будет произведен возврат платежа в платежной системе","updated_at":"2020-08-25 06:49:13","uq":"0"},{"code":"title","created_at":"2020-08-25 07:48:54","data_type$code":"varchar","data_type_id":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"11409","is_default_current_user":"0","len":"100","rq":"0","short_title":"Title","show_col":"1","sys$uuid":"f06e4648-8e1e-4cff-8955-f3be185f9ea1","title":"Title","updated_at":"2020-08-25 07:48:54","uq":"0"},{"code":"updated_at","created_at":"2020-08-25 07:48:54","data_type$code":"current_and_on_update_datetime","data_type_id":"16","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"11411","len":"0","rq":"0","short_title":"Updated At","sys$uuid":"4b2c02bd-2c2e-489b-a7f0-d4b0a2e9b07f","title":"Updated At","updated_at":"2020-08-25 07:48:54","uq":"0"}],"detail_queries":[{"code":"mfo_paybox_refunds","created_at":"2020-08-25 07:48:55","created_by":"1","detail$code":"mfo_paybox_refunds","detail_id":"2550","id":"2912","is_auto":"1","sql_condition_build_text":"","sql_text":"select main.* from `mfo_paybox_refunds` main\r\nwhere main.id=?","table_name":"","title":"mfo_paybox_refunds","updated_at":"2020-08-25 07:48:55"}],"details":[{"code":"mfo_paybox_refunds","created_at":"2020-08-25 07:48:55","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"2550","is_auto":"1","title":"mfo_paybox_refunds","updated_at":"0000-00-00 00:00:00"}],"entity_view_limits":[{"code":"mfo_paybox_refunds","created_at":"2020-08-25 07:48:55","created_by":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"1201","is_auto":"1","subquery":"1 = 1","sys$uuid":"d354d103-9b13-4115-990c-94561479a958","title":"Отмены платежей от PayBox","updated_at":"2020-08-25 07:48:55"}],"filter_set_dtls":[{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"amount","entity_attr_id":"11406","id":"34107","is_advanced":"0","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"cecc71c5-cc77-401b-9fb9-a903e7ad8b5a","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"code","entity_attr_id":"11408","id":"34108","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"b6a79e40-f34f-48c7-9b24-e5cca3117df2","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"created_at","entity_attr_id":"11410","id":"34109","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"ad654bf2-7388-4089-9543-5dd47a8b4b3e","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"created_by","entity_attr_id":"11412","id":"34110","is_advanced":"0","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"c9b8f3cf-65e4-45c5-b9ee-2209787ef45f","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"dt","entity_attr_id":"11403","id":"34111","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"485e8cf0-e795-4177-af2d-df1da4d49acb","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"id","entity_attr_id":"11407","id":"34112","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"cf4833ba-94c8-41da-b676-4cbac14be04d","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"order_id","entity_attr_id":"11401","id":"34113","is_advanced":"0","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"2b54a260-a9e7-4acc-b0c1-6a6216352fe4","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"paybox_refund_id","entity_attr_id":"11404","id":"34114","is_advanced":"0","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"cae3d22d-ba38-487e-be51-2c93b034eb4f","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"ps_currency","entity_attr_id":"11405","id":"34115","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"c85f3a6b-caf9-43f9-9899-479f052d4306","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"title","entity_attr_id":"11409","id":"34116","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"5167fa33-eecf-4feb-a24a-bb74dcd71ddb","updated_at":"2020-08-25 07:48:54"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-25 07:48:54","entity_attr$code":"updated_at","entity_attr_id":"11411","id":"34117","set$code":"mfo_paybox_refunds","set_id":"2698","sys$uuid":"d6d6c427-5043-4db8-aa87-44da677836cb","updated_at":"2020-08-25 07:48:54"}],"filter_sets":[{"code":"mfo_paybox_refunds","created_at":"2020-08-25 07:48:54","created_by":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"2698","is_auto":"1","sys$uuid":"9af03a45-528a-4ff9-8dd5-ede2add09b6c","title":"Отмены платежей от PayBox","updated_at":"2020-08-25 07:48:54"}],"main":[{"code":"mfo_paybox_refunds","created_at":"2020-08-25 06:13:50","created_by":"1","def_sel_query$code":"mfo_paybox_refunds_select","def_sel_query_id":"7051","detail_id":"2550","detail_page_id":"5407","entity_type$code":"reference","entity_type_id":"1","id":"1082","is_full_audit":"0","list_page_id":"5406","module$code":"mfo","module_id":"39","nogit":"0","rewrite_cloud":"0","sys$uuid":"689fec43-6377-4e2e-980f-2c8bb452fffa","title":"Отмены платежей от PayBox","to_cloud":"0","updated_at":"2020-08-25 07:48:55"}],"pages":[{"code":"mfo_paybox_refunds","created_at":"2020-08-25 07:48:54","created_by":"1","db_template":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","filter_set_id":"2698","filter_sets$code":"mfo_paybox_refunds","id":"5406","is_auto":"1","module$code":"mfo","module_id":"39","page_type$code":"list","page_type_id":"1","query$code":"mfo_paybox_refunds","query_id":"7050","sys$uuid":"5a44c9c9-e221-4a37-aa4e-0d4f9c23e4c7","template":"\u003c!-- BEGIN PAGE HEADER--\u003e\r\n\u003csection class=\"clearfix container-fluid\" id=\"section-basics\"\r\n\t\t ng-init=\"init({pageData:$state.current.data,currentPage:1,perPage:25,table_name:$state.current.data.pageQueryCode})\"\r\n\t\t ng-controller=\"SimpleTableController\"\u003e\r\n\u003cdiv class=\"page-bar\"\u003e\r\n\t\u003cul class=\"page-breadcrumb\"\u003e\r\n\t\t\u003cli\u003e\r\n\t\t\t\u003ci class=\"fa fa-home\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ci class=\"fa fa-angle-right\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ctranslate ng-if=\"'Отмены платежей от PayBox'\"\u003eОтмены платежей от PayBox\u003c/translate\u003e\r\n\t\t\u003c/li\u003e\r\n\t\u003c/ul\u003e\r\n\t\u003cdiv class=\"page-toolbar\"\u003e\r\n\t\t\u003cdiv class=\"btn-group pull-right\"\u003e\r\n\t\t\t\u003ca  href=\"#/mfo/mfo_paybox_refundsdetails/0\" type=\"button\" class=\"btn btn-fit-height btn-primary\" translate\u003e\r\n\t\t\t\tAdd\u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/a\u003e\r\n\t\t\t\u003cbutton translate type=\"button\" class=\"btn btn-fit-height green dropdown-toggle\" data-toggle=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\"\u003e\r\n\t\t\tActions \u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/button\u003e\r\n\t\t\t\u003cul class=\"dropdown-menu pull-right\" user=\"menu\"\u003e\r\n\t\t\t\t\u003cng-include src=\"'/restapi/widget/simpletable-select-actions'\" \u003e\r\n\t\t\t\t\u003c/ng-include\u003e\r\n\t\t\t\u003c/ul\u003e\r\n\t\t\u003c/div\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c!-- END PAGE HEADER--\u003e\r\n\r\n\u003cdiv class=\"row well\"\u003e\r\n    \u003cng-include src=\"'/restapi/widget/simpletable-universal-filter'\" \u003e\r\n    \u003c/ng-include\u003e\r\n\u003c/div\u003e\r\n\u003c!-- BEGIN MAIN CONTENT --\u003e\r\n\u003cdiv class=\"row\"\u003e\r\n\t\u003cdiv class=\"col-md-12\"\u003e\r\n\t\t\u003c!--\u003cdiv class=\"note note-danger\"\u003e--\u003e\r\n\t\t\t\u003c!--\u003cp\u003e--\u003e\r\n\t\t\t\t\u003c!--SAMPLE NOTE:--\u003e\r\n\t\t\t\u003c!--\u003c/p\u003e--\u003e\r\n\t\t\u003c!--\u003c/div\u003e--\u003e\r\n\t\t\u003c!-- Begin: life time stats --\u003e\r\n\t\t\u003cdiv class=\"portlet\"\u003e\r\n\t\t\t\u003cdiv class=\"portlet-body\"\u003e\r\n\t\t\t\t\u003cdiv class=\"table-container\"\u003e\r\n\t\t\t\t\t\u003cdiv class=\"table-responsive\"\u003e\r\n\t\t\t\t\t\t\u003ctable st-table=\"rowCollection\"  class=\"table table-striped table-bordered\" \u003e\r\n\t\t\t\t\t\t\t\u003cthead\u003e\r\n    \t\t\t\t\t\t\t\u003ctr\u003e\r\n    \t\t\t\t\t\t\t\t\u003cth class=\"text-center\"\u003e\r\n                    \t\t\t\t\t\u003cdiv ng-if=\"filterSetCols\" class=\"btn-group\"\u003e\t\t\t    \r\n                                \t\t\t\u003ca type=\"button\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\"\u003e\r\n                                    \t\t\t\u003ci class=\"fa fa-columns\"\u003e\u003c/i\u003e\r\n                                \t\t\t\u003c/a\u003e\r\n                                    \t\t\t\u003cul class=\"dropdown-menu\" style=\"left: auto; !important\" role=\"menu\"\u003e\r\n                                                    \u003cli ng-repeat=\"ppb in filterSetCols\" ng-if=\"ppb.is_advanced == 1\"\u003e\r\n                                                        \u003clabel\u003e\r\n                                                            \u003cspan ng-if=\"getShowIsAdvancedCol(ppb)!=null\" ng-init=\"ppb.value = getShowIsAdvancedCol(ppb)\"\u003e\u003c/span\u003e\r\n                                                            \u003ccheckbox ng-model=\"ppb.value\"  ng-change=\"setShowIsAdvancedCol(ppb)\"  ng-true-value=\"1\"   ng-false-value=\"0\" \u003e\u003c/checkbox\u003e\r\n                                                            {{ppb.title}}\r\n                                                        \u003c/label\u003e\r\n                                                    \u003c/li\u003e        \t\t\t    \r\n                                    \t\t\t\u003c/ul\u003e\t\r\n                            \t\t\t\u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\t    \u003cth  class=\"text-center\" ng-repeat=\"col in filterSetCols\" ng-if=\"getShowIsAdvancedCol(col)==1 || col.is_advanced!=1\"\u003e\r\n    \t\t\t\t\t\t\t\t        \u003ca ng-click=\"sortBy(col.alias)\" translate\u003e{{col.title}}\u003c/a\u003e \u003ci ng-if=\"sortFieldAsc \u0026\u0026 sortField == col.alias \" \r\n    \t\t\t\t\t\t\t\t        class=\"fa fa-sort-alpha-asc\"\u003e\u003c/i\u003e\u003ci ng-if=\"sortFieldAsc == false \u0026\u0026 sortField == col.alias\"  class=\"fa fa-sort-alpha-desc\"\u003e\u003c/i\u003e\r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\u003c/tr\u003e\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\u003ctr\u003e\r\n    \t\t\t\t\t\t\t        \u003cth\u003e\r\n    \t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t        \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\t    \u003cth ng-repeat=\"col in filterSetCols\" ng-if=\"getShowIsAdvancedCol(col)==1 || col.is_advanced!=1\"\u003e\r\n    \t\t\t\t\t\t\t\t        \u003cdiv ng-switch=\"col._data_type_code\"\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"integer\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"double\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"serial\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"varchar\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv ng-switch-when = \"reference\"\u003e\r\n    \t\t\t\t\t\t\t\t                    \u003cdu-select query-code=\"{{col._def_sel_query_code}}\"   without-label=\"true\" ng-change=\"editQF(col)\" id-model=\"col._value\" ng-model=\"col._value2\"\u003e\u003c/du-select\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t        \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t       \r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e     \t\t\t\t\t\t\t    \r\n    \t\t\t\t\t\t\t\u003c/tr\u003e\r\n    \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\u003c/thead\u003e\r\n\t\t\t\t\t\t\t\u003ctbody\u003e\r\n\t\t\t\t\t\t\t\u003ctr ng-repeat=\"row in rowCollection\" style=\"background-color:{{row._row_color}}\"\u003e\r\n\t\t\t\t\t\t\t\t\u003ctd\u003e\r\n\t\t\t\t\t\t\t\t\t\u003cng-include src=\"'views/blocks/simpletable-select-checkbox-row.html'\"\u003e\u003c/ng-include\u003e\r\n\t\t\t\t\t\t\t\t\t\u003ca href=\"#/mfo/mfo_paybox_refundsdetails/{{row.id}}?lastpage={{currentPage}}\"\u003e \u003ci class=\"fa fa-pencil\"\u003e\u003c/i\u003e\u003c/a\u003e\r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\u003ctd ng-repeat=\"col in filterSetCols\"  ng-if=\"getShowIsAdvancedCol(col)==1 ||  col.is_advanced != 1\"\u003e\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t    \u003cdiv ng-switch=\"col.alias\"\u003e\r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"_value\" class=\"text-right\"\u003e\r\n\t\t\t\t\t\t\t\t            {{row[col.alias] | number : 2}}        \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"amount\" class=\"text-right\"\u003e\r\n\t\t\t\t\t\t\t\t            {{row[col.alias] | number : 2}}        \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"_status_title\" class=\"text-center\"\u003e\r\n\t\t\t\t\t\t\t\t           \u003cspan class=\"{{row._status_color}}\"\u003e\u003ci class=\"{{row._status_icon}}\"\u003e\u003c/i\u003e {{row[col.alias]}} \u003c/span\u003e \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-default\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch=\"col._data_type_code\"\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-when=\"double\"\u003e{{row[col.alias] | number:2}}\u003c/span\u003e \r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-when=\"boolean\"\u003e\u003ci ng-class=\"row[col.alias]!=1?'fa fa-square-o':'fa fa-check-square-o'\"\u003e\u003c/i\u003e\u003c/span\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-default\u003e{{row[col.alias]}}\u003c/span\u003e    \r\n\t\t\t\t\t\t\t\t            \u003c/span\u003e\r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t    \u003c/div\u003e\r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\t\t\t\u003c/tr\u003e\r\n\t\t\t\t\t\t\t\u003c/tbody\u003e\r\n\r\n\t\t\t\t\t\t\t\u003ctfoot\u003e\r\n\t\t\t\t\t\t\t\u003ctr\u003e\r\n\t\t\t\t\t\t\t\t\u003ctd colspan=\"50\" class=\"text-center\"\u003e\r\n\t\t\t\t\t\t\t\t\t\u003cdiv ng-include=\"'views/blocks/simpletable-pagination.html'\"\u003e\u003c/div\u003e\r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\t\t\t\u003c/tr\u003e\r\n\t\t\t\t\t\t\t\u003c/tfoot\u003e\r\n\t\t\t\t\t\t\u003c/table\u003e\r\n\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\t\u003c!-- End: life time stats --\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c/section\u003e\r\n\u003c!-- END MAIN CONTENT --\u003e","templateurl":"","title":"Отмены платежей от PayBox","updated_at":"2020-08-25 07:48:55","url":"/mfo/mfo_paybox_refunds"},{"code":"mfo_paybox_refundsdetails","created_at":"2020-08-25 07:48:55","created_by":"1","db_template":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"5407","is_auto":"1","module$code":"mfo","module_id":"39","page_type$code":"details","page_type_id":"5","sys$uuid":"694a5e90-9cef-4752-a2f0-f4fff230dbf3","template":"\u003c!-- BEGIN PAGE HEADER--\u003e\r\n\u003csection class=\"clearfix container-fluid\" id=\"section-basics\" ng-controller=\"basicsCtrl\"\u003e\r\n\u003cdiv class=\"page-bar\"\u003e\r\n\t\u003cul class=\"page-breadcrumb\"\u003e\r\n\t\t\u003cli\u003e\r\n\t\t\t\u003ci class=\"{{$state.current.data.pageIcon}}\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ca href=\"#/mfo/mfo_paybox_refunds/?{{lastpagestr}}\" translate\u003eОтмены платежей от PayBox\u003c/a\u003e\r\n\t\t\t\u003ci class=\"fa fa-angle-right\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ctranslate\u003e{{detail.title}}\u003c/translate\u003e\r\n\r\n\t\t\u003c/li\u003e\r\n\r\n\t\u003c/ul\u003e\r\n\t\u003cdiv class=\"page-toolbar\"\u003e\r\n\t\t\u003cdiv class=\"btn-group pull-right\"\u003e\r\n\t\t    \r\n\t\t    \u003cbutton ng-if=\"!editing \u0026\u0026 detail.id != 0 \" class=\"btn btn-primary green\" ng-click=\"pubSubPublish('chooseBPMSModal',{callBack:printCallBack, 'processCode':'exp_template', 'input': {'url':'?code='+table_name+'\u0026amp;ids='+detail.id,'entity_id':$state.current.data.entityId} })\" \u003e\r\n                        \u003ci class=\"fa fa-file-excel-o\"\u003e\u003c/i\u003e \u003ctranslate\u003eПечать\u003c/translate\u003e\r\n            \u003c/button\u003e\t\t    \r\n\t\t    \r\n\t\t\t\u003cbutton ng-if=\"!editing \u0026\u0026 entityActions.length\u003e0\"  type=\"button\" class=\"btn btn-fit-height green dropdown-toggle\" data-toggle=\"dropdown\" data-hover=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\" \u003e\r\n\t\t\t\u003ctranslate\u003eActions\u003c/translate\u003e \u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/button\u003e\r\n\t\t\t\u003cul ng-if=\"!editing\"  class=\"dropdown-menu\" style=\"left: auto; right: 100px;!important\" role=\"menu\"\u003e\r\n                \u003cli ng-repeat= \"action in entityActions\"\u003e\r\n                    \u003ca ng-if=\"action.process_type_code=='entityAction'\" ng-click=\"pubSubPublish('chooseBPMSModal',{callBack:bindCallBack,'processCode':action.code, 'input': {'url':'?code='+table_name+'\u0026amp;ids='+detail.id} })\" \u003e\r\n                        \u003ci class=\"{{action.action_icon}}\"\u003e\u003c/i\u003e \u003ctranslate\u003e{{action.title}}\u003c/translate\u003e\u003c/a\u003e\r\n                        \r\n                    \u003ca ng-if=\"action.process_type_code=='entityActionByID'\" ng-click=\"pubSubPublish('chooseBPMSModal',{callBack:bindCallBack, 'processCode':action.code, 'input': {'id':detail.id} })\" \u003e\r\n                        \u003ci class=\"{{action.action_icon}}\"\u003e\u003c/i\u003e \u003ctranslate\u003e{{action.title}}\u003c/translate\u003e\u003c/a\u003e\r\n                        \r\n                    \u003ca ng-if=\"session_roles.admin\" href=\"#/bpms/modeler/{{action.id}}\" title=\"Диаграмма\"\u003e\u003ci class=\"glyphicon glyphicon-th-large\"\u003e\u003c/i\u003e\u003c/a\u003e\r\n                \u003c/li\u003e\r\n\t\t\t\u003c/ul\u003e\r\n\t\t\t\r\n\t\t    \u003ca ng-if=\"!editing \u0026\u0026 detail.id != 0 \" href=\"#/mfo/mfo_paybox_refundsdetails/0\" class=\"btn btn-primary\"\u003e\u003ci class=\"fa fa-plus\"\u003e\u003c/i\u003e  \u003ctranslate\u003eAdd\u003c/translate\u003e\u003c/a\u003e\r\n\t\t\t\u003cbutton ng-if=\"editing\" class=\"btn btn-primary\" ng-click=\"save()\" translate\u003eSave\u003c/button\u003e\r\n\t\t\t\u003cbutton ng-if=\"editing\" class=\"btn btn-warning\" ng-click=\"cancel()\" translate\u003eCancel\u003c/button\u003e\r\n\t\t\t\u003cbutton ng-if=\"!editing\" class=\"btn btn-warning\" translate\u003eSaved\u003c/button\u003e\r\n\t\t\t\u003ca ng-if=\"!editing \u0026\u0026 session_roles.admin\" ng-href=\"#/settings/pagedetails/{{$state.current.data.pageId}}\" class=\"btn btn-warning red\"\u003e\u003ci class=\"fa fa-pencil-square-o\"\u003e\u003c/i\u003e \u003ctranslate\u003eEdit Page\u003c/translate\u003e\u003c/a\u003e\r\n\t\t\u003c/div\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c!-- END PAGE HEADER--\u003e\r\n\u003c!-- BEGIN MAIN CONTENT --\u003e\r\n\u003cdiv class=\"row\"  ng-keydown=\"keyDown($event)\"\u003e\r\n\t\u003cdiv class=\"col-md-12\"\u003e\r\n\t\t\u003c!--\u003cdiv class=\"note note-danger\"\u003e--\u003e\r\n\t\t\t\u003c!--\u003cp\u003e--\u003e\r\n\t\t\t\t\u003c!--NOTE SAMPLE:.--\u003e\r\n\t\t\t\u003c!--\u003c/p\u003e--\u003e\r\n\t\t\u003c!--\u003c/div\u003e--\u003e\r\n\t\t\u003c!-- Begin: life time stats --\u003e\r\n\t\t\u003cdiv class=\"portlet\"\u003e\r\n\t\t\t\u003cdiv class=\"portlet-body\"\u003e\r\n\t\t\t\t\u003cdiv class=\"table-container\"\u003e\r\n\t\t\t\t\t\u003cdiv class=\"portlet-body form\"\u003e\r\n\t\t\t\t\t\t\u003cform role=\"form\"\u003e\r\n\t\t\t\t\t\t\t\u003cdiv class=\"form-body\"\u003e\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t    \u003cdiv ng-if=\"error_code != 'entity_code' \u0026\u0026 error_text \" class=\"form-group\"\u003e\r\n\t\t\t\t\t\t\t        \u003clabel  class=\"text-danger\"\u003e\u003ci class=\"fa fa-warning (alias)\"\u003e\u003c/i\u003e {{error_text}}\u003c/label\u003e\r\n\t\t\t\t\t\t\t    \u003c/div\u003e\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t    \u003cdiv ng-if=\"error_code == 'entity_code' \" class=\"form-group\"\u003e\r\n\t\t\t\t\t\t\t        \u003clabel  class=\"text-danger\"\u003e\u003ci class=\"fa fa-warning (alias)\"\u003e\u003c/i\u003e {{error_text}}\u003c/label\u003e\r\n\t\t\t\t\t\t\t    \u003c/div\u003e\t\r\n\t\t\t\t\t\t\t    \r\n                                    \u003cdiv class = \"row\"\u003e    \r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cdu-select label=\"ссылка на платеж\" lookup_page_code=\"\u003cno value\u003e\" lookup_call_back=\"order_idEditCallBack\" ng-model=\"value.order_id\" icon=\"\u003cno value\u003e\" query-code=\"mfo_paybox_orders_select\" id-model=\"detail.order_id\" ng-change=\"edit()\" \u003e\u003c/du-select\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cdu-date-time icon=\"\u003cno value\u003e\" label=\"дата отмены\" ng-model=\"detail.dt\" ng-change=\"edit()\" \u003e\u003c/du-date-time\u003e\r\n        \u003c/div\u003e       \r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-number-label  icon=\"\u003cno value\u003e\"  label=\"Уникальный идентификатор возврата PayBox\" id-model=\"detail.paybox_refund_id\" on-change=\"edit\" \u003e\u003c/bu-input-number-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-label  icon=\"\u003cno value\u003e\"  label=\"Валюта, в которой будет произведен возврат платежа в платежной системе\" id-model=\"detail.ps_currency\" on-change=\"edit\" \u003e\u003c/bu-input-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-number-label  icon=\"\u003cno value\u003e\"  label=\"Сумма, которая будет списана с магазина\" id-model=\"detail.amount\" on-change=\"edit\" \u003e\u003c/bu-input-number-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-label  icon=\"\u003cno value\u003e\"  label=\"Code\" id-model=\"detail.code\" on-change=\"edit\" \u003e\u003c/bu-input-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-label  icon=\"\u003cno value\u003e\"  label=\"Title\" id-model=\"detail.title\" on-change=\"edit\" \u003e\u003c/bu-input-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cdu-select label=\"Created By\" lookup_page_code=\"users_lookup\" lookup_call_back=\"created_byEditCallBack\" ng-model=\"value.created_by\" icon=\"\u003cno value\u003e\" query-code=\"users_select\" id-model=\"detail.created_by\" ng-change=\"edit()\" \u003e\u003c/du-select\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n\r\n                                \u003c/div\u003e\r\n                                \r\n                                \u003cdiv class=\"row\"\u003e\r\n                                    \r\n                                    \u003cdiv class=\"col-md-12\"\u003e\r\n                                        \r\n\r\n\u003c!--\r\nТабличная часть\r\n--\u003e\r\n\r\n\r\n\r\n\r\n\u003c!--\r\nТабличная часть. Конец\r\n--\u003e\r\n\r\n                                    \u003c/div\u003e                                    \r\n                                \u003c/div\u003e    \r\n\t\t\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\t\t\u003c/form\u003e\r\n\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\t\u003c!-- End: life time stats --\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c/section\u003e\r\n\r\n\r\n\u003cscript type=\"text/javascript\"\u003e\r\n\r\n\r\n\tfunction basicsCtrl($scope,$rootScope, $http,$log,$stateParams,DMLService,RestApiService,UIService,PubSub,$location) {\r\n\r\n\r\n        \r\n\r\n    \r\n    \r\n    \r\n        $scope[\"order_idEditCallBack\"] = function(data){\r\n            $scope.detail[\"order_id\"] = data.id;\r\n            $scope.edit();\r\n        }\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n    \r\n    \r\n    \r\n        $scope[\"created_byEditCallBack\"] = function(data){\r\n            $scope.detail[\"created_by\"] = data.id;\r\n            $scope.edit();\r\n        }\r\n            \r\n\r\n\r\n\r\n        \r\n        $scope.value = {};\r\n        \r\n        $scope.lastpagestr = $location.search().lastpage?\"page=\"+$location.search().lastpage:\"\";\r\n        \r\n        $scope.pubSubPublish = function(a,b){\r\n            PubSub.publish(a,b);\r\n        }\r\n        \r\n\t\t$scope.edit = function edit(){\r\n\t\t\t$scope.editing = true;\r\n\t\t\t$rootScope.promptExit =true;\r\n\t\t}\r\n\t\t$scope.closeEdit = function (){\r\n\t\t\t$scope.editing = false;\r\n\t\t\t$rootScope.promptExit =false;\r\n\t\t}\r\n\r\n         $scope.keyDown = function(e) {\r\n          if ((e.altKey) \u0026\u0026 (e.shiftKey) \u0026\u0026 (e.keyCode == 83) \u0026\u0026 ($scope.editing)){\r\n            $scope.save();\r\n          }\r\n        };\r\n        \r\n        $scope.bindCallBack = function(params){\r\n            $scope.bind();\r\n        }  \r\n        \r\n        \r\n        $scope.printCallBack = function(params){\r\n            //console.log('printCallBack',params);\r\n            if (params.vars \u0026\u0026 params.vars.file_url){\r\n            location.href = params.vars.file_url;\r\n            }\r\n            //$scope.details.ns.push({_inserted:1, id:0,doc_id:$scope.detail.sys$uuid,nomen_id:params.id,_nomen_title:params.title,quantity:1,price:params.price,amount:params.price});\r\n        \r\n            \r\n        }  \r\n        \r\n\r\n\t\t$scope.bind = function bind(){\r\n\t\t    \r\n\t\t    \r\n\r\n\t\t    Metronic.startPageLoading();\r\n\t\t\tRestApiService.get('detail?code=mfo_paybox_refunds\u0026id='+$stateParams.id).\r\n\t\t\tsuccess(function(data) {\r\n\t\t\t    Metronic.stopPageLoading();\r\n\t\t\t\t// here the data from the api is assigned to a variable named users\r\n\r\n                $scope.table_name=\"mfo_paybox_refunds\";\r\n                \r\n                \r\n        \t\tif ($stateParams.id!=0) {\t\t    \r\n        \t    \r\n        \t\tRestApiService.get('services/run/entity_acts?entity_code='+$scope.table_name+\"\u0026id=\"+$stateParams.id).\r\n        \t\tsuccess(function(data) { \r\n        \t\t    $scope.entityActions = data;\r\n        \t\t});\r\n        \t\t}\r\n\t\t\r\n\t\t\r\n                \r\n    \t\t\tRestApiService.get('query/get?code=entity_attrs_by_code\u0026param1='+$scope.table_name).\r\n    \t\t\tsuccess(function(data) { \r\n    \t\t\t    $scope.fields = data.items;\r\n    \t\t\t});\t    \r\n    \t\t\t\r\n\t\t\t\t$scope.closeEdit();\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t\t$scope.detail = {};\r\n\t\t\t\t$scope.detail.id = $stateParams.id;\r\n\t\t\t\tif ($stateParams.id!=0) {\r\n\t\t\t\t\t$scope.detail = data[\"mfo_paybox_refunds\"][0];\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t    Metronic.setDefaultValuesFromUrl($scope.detail);\r\n                \t//if (Metronic.getParameterByName(\"df_account_id\")!=null){\r\n                \t//\t$scope.detail.account_id = Metronic.getParameterByName(\"df_account_id\");    \r\n                \t//}\r\n                \t$scope.detail.sys$uuid = Metronic.getUUID();\r\n                }\r\n\t\t\t\t\r\n\t\t\t\tPubSub.publish(\"bindBuComponents\",{});\r\n\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t$scope.save = function save(){\r\n\r\n\r\n\r\n\t\t\t$scope.action =  $scope.detail.id == 0 ? \"insert\":\"update\";\r\n\t\t\t\r\n\t\t\t$scope.error_code = \"\"\r\n\t\t\t$scope.error_text = \"\";\r\n\t\t\t\r\n\t\t\tMetronic.startPageLoading();\r\n\t\t\t$scope.saveValues =  [ {table_name:$scope.table_name,action:$scope.action, values: [$scope.detail]}  ];\r\n\t\t\t\r\n\t\t\t\r\n\r\n\r\n\t\t\tDMLService.update( $scope.saveValues ).\r\n\t\t\t\tsuccess(function (data) {\r\n\t\t\t\t\tif (data.error!=\"0\") {\r\n\t\t\t\t\t\t$scope.error_code = data.error_code;\r\n\t\t\t\t\t\t$scope.error_text = data.error_text;\r\n\t\t\t\t\t\tMetronic.stopPageLoading();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ($scope.detail.id == 0) {\r\n\t\t\t\t\t\tdata.items.forEach(function (item, i, arr) {\r\n\t\t\t\t\t\t\tif (item.table_name==$scope.table_name){\r\n\t\t\t\t\t\t\t\tlocation.href = \"#/mfo/mfo_paybox_refundsdetails/\" +item.last_insert_id;\r\n\t\t\t\t\t\t\t\tMetronic.stopPageLoading();\r\n\t\t\t\t\t\t\t\t$scope.closeEdit();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t    Metronic.stopPageLoading();\r\n\t\t\t\t\t\t$scope.bind();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t$scope.cancel = function cancel(){\r\n\t\t    \r\n\t\t\t$scope.bind($stateParams.id);\r\n\t\t}\r\n\r\n\t\t$scope.bind($stateParams.id);\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\u003c/script\u003e\r\n\r\n\u003c!-- END MAIN CONTENT --\u003e\r\n","templateurl":"","title":"Отмены платежей от PayBox","updated_at":"2020-08-25 07:48:55","url":"/mfo/mfo_paybox_refundsdetails/{id}"}],"queries":[{"code":"mfo_paybox_refunds","created_at":"2020-08-25 07:48:54","created_by":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"7050","is_auto":"1","sql_text":"select main.*, 1 as '_one', f11401.title as mfo_paybox_orders_11401,f11412.title as users_11412 from `mfo_paybox_refunds` main\n\n  \r\nleft join mfo_paybox_orders f11401 on f11401.id=main.order_id \r\nleft join users f11412 on f11412.id=main.created_by   \n\n  %filter% %order% ","sys$uuid":"a64bf2ac-ca7e-45a4-80ed-1c742ec69486","title":"Отмены платежей от PayBox","updated_at":"2020-08-25 07:48:55"},{"code":"mfo_paybox_refunds_select","created_at":"2020-08-25 07:48:55","created_by":"1","entity$code":"mfo_paybox_refunds","entity_id":"1082","id":"7051","is_auto":"1","sql_text":"select main.id,main.code,main.title as name from `mfo_paybox_refunds` main %filter% %order% ","sys$uuid":"596ad239-0ee1-4bb9-a470-d3b8f5f952b5","title":"Отмены платежей от PayBox","updated_at":"2020-08-25 07:48:55"}],"table_parts":[],"validators":[]},"detail_code":"entities_export","object_type":"entity","object_version":"1.0"}]