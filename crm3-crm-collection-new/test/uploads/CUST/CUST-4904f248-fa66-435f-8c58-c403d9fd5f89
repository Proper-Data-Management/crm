[{"detail":{"_extra":[],"attrs":[{"code":"code","created_at":"2020-08-26 08:50:15","data_type$code":"varchar","data_type_id":"1","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"11416","len":"30","rq":"0","short_title":"Code","sys$uuid":"679f3c37-f639-458e-8e9d-1a7ba1bbd939","title":"Code","updated_at":"2020-08-26 08:50:15","uq":"1"},{"code":"created_at","created_at":"2020-08-26 08:50:15","data_type$code":"current_datetime","data_type_id":"15","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"11418","len":"0","rq":"0","short_title":"Created At","sys$uuid":"4c7f73b6-5d11-4df8-8a12-763637dab49f","title":"Created At","updated_at":"2020-08-26 08:50:15","uq":"0"},{"code":"created_by","created_at":"2020-08-26 08:50:15","data_type$code":"reference","data_type_id":"7","entity$code":"mfo_paybox_pay_types","entity_id":"1084","entity_link$code":"users","entity_link_id":"22","id":"11420","is_default_current_user":"1","len":"0","rq":"0","short_title":"Created By","show_col":"0","sys$uuid":"06fe5b66-b405-4dc1-a4d9-71e91d7e3dba","title":"Created By","updated_at":"2020-08-26 08:50:15","uq":"0"},{"code":"id","created_at":"2020-08-26 08:50:15","data_type$code":"serial","data_type_id":"8","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"11415","len":"0","rq":"0","short_title":"Id","sys$uuid":"cc13e582-1752-4c03-9434-c4138e6d7be9","title":"Id","updated_at":"2020-08-26 08:50:15","uq":"0"},{"code":"title","created_at":"2020-08-26 08:50:15","data_type$code":"varchar","data_type_id":"1","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"11417","is_default_current_user":"0","len":"100","rq":"0","short_title":"Title","show_col":"1","sys$uuid":"fec83c2b-307f-47f7-8ae3-3dfba46a7c25","title":"Title","updated_at":"2020-08-26 08:50:15","uq":"0"},{"code":"updated_at","created_at":"2020-08-26 08:50:15","data_type$code":"current_and_on_update_datetime","data_type_id":"16","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"11419","len":"0","rq":"0","short_title":"Updated At","sys$uuid":"660a1a9c-52ef-4e10-a97d-4ed99172eaaf","title":"Updated At","updated_at":"2020-08-26 08:50:15","uq":"0"}],"detail_queries":[{"code":"mfo_paybox_pay_types","created_at":"2020-08-26 08:50:16","created_by":"1","detail$code":"mfo_paybox_pay_types","detail_id":"2551","id":"2913","is_auto":"1","sql_condition_build_text":"","sql_text":"select main.* from `mfo_paybox_pay_types` main\r\nwhere main.id=?","table_name":"","title":"mfo_paybox_pay_types","updated_at":"2020-08-26 08:50:16"}],"details":[{"code":"mfo_paybox_pay_types","created_at":"2020-08-26 08:50:16","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"2551","is_auto":"1","title":"mfo_paybox_pay_types","updated_at":"0000-00-00 00:00:00"}],"entity_view_limits":[{"code":"mfo_paybox_pay_types","created_at":"2020-08-26 08:50:16","created_by":"1","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"1202","is_auto":"1","subquery":"1 = 1","sys$uuid":"20bad527-c799-496c-a38d-6687a9d91dad","title":"Виды платежей","updated_at":"2020-08-26 08:50:16"}],"filter_set_dtls":[{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-26 08:50:15","entity_attr$code":"code","entity_attr_id":"11416","id":"34123","set$code":"mfo_paybox_pay_types","set_id":"2699","sys$uuid":"b374933d-c5d5-4271-9896-23745fc4747c","updated_at":"2020-08-26 08:50:15"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-26 08:50:15","entity_attr$code":"created_at","entity_attr_id":"11418","id":"34124","set$code":"mfo_paybox_pay_types","set_id":"2699","sys$uuid":"7cc0d369-aad2-48cd-8d33-dbdc4adbe2b0","updated_at":"2020-08-26 08:50:15"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-26 08:50:15","entity_attr$code":"created_by","entity_attr_id":"11420","id":"34125","is_advanced":"0","set$code":"mfo_paybox_pay_types","set_id":"2699","sys$uuid":"d72fba21-1d18-443e-bb18-63129817cf3c","updated_at":"2020-08-26 08:50:15"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-26 08:50:15","entity_attr$code":"id","entity_attr_id":"11415","id":"34126","set$code":"mfo_paybox_pay_types","set_id":"2699","sys$uuid":"c64ccac6-a2f8-4a10-ad5b-ce891fc73346","updated_at":"2020-08-26 08:50:15"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-26 08:50:15","entity_attr$code":"title","entity_attr_id":"11417","id":"34127","set$code":"mfo_paybox_pay_types","set_id":"2699","sys$uuid":"8aae341f-6490-4a49-aebd-5a76969de1af","updated_at":"2020-08-26 08:50:15"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2020-08-26 08:50:15","entity_attr$code":"updated_at","entity_attr_id":"11419","id":"34128","set$code":"mfo_paybox_pay_types","set_id":"2699","sys$uuid":"e5c8b928-ec72-4a09-8b00-72c278740200","updated_at":"2020-08-26 08:50:15"}],"filter_sets":[{"code":"mfo_paybox_pay_types","created_at":"2020-08-26 08:50:15","created_by":"1","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"2699","is_auto":"1","sys$uuid":"eef8ef18-de90-467b-8a4a-8b8c1e0bf392","title":"Виды платежей","updated_at":"2020-08-26 08:50:15"}],"main":[{"code":"mfo_paybox_pay_types","created_at":"2020-08-26 08:50:14","created_by":"1","def_sel_query$code":"mfo_paybox_pay_types_select","def_sel_query_id":"7053","detail_id":"2551","detail_page_id":"5409","entity_type$code":"reference","entity_type_id":"1","id":"1084","is_full_audit":"0","list_page_id":"5408","module$code":"mfo","module_id":"39","nogit":"0","rewrite_cloud":"0","sys$uuid":"93207e6d-bec4-4083-abbb-3e8efc7a32bb","title":"Виды платежей","to_cloud":"0","updated_at":"2020-08-26 08:50:16"}],"pages":[{"code":"mfo_paybox_pay_types","created_at":"2020-08-26 08:50:16","created_by":"1","db_template":"1","entity$code":"mfo_paybox_pay_types","entity_id":"1084","filter_set_id":"2699","filter_sets$code":"mfo_paybox_pay_types","id":"5408","is_auto":"1","module$code":"mfo","module_id":"39","page_type$code":"list","page_type_id":"1","query$code":"mfo_paybox_pay_types","query_id":"7052","sys$uuid":"18ba6b73-cf13-4376-a9d7-c9097ff324a8","template":"\u003c!-- BEGIN PAGE HEADER--\u003e\r\n\u003csection class=\"clearfix container-fluid\" id=\"section-basics\"\r\n\t\t ng-init=\"init({pageData:$state.current.data,currentPage:1,perPage:25,table_name:$state.current.data.pageQueryCode})\"\r\n\t\t ng-controller=\"SimpleTableController\"\u003e\r\n\u003cdiv class=\"page-bar\"\u003e\r\n\t\u003cul class=\"page-breadcrumb\"\u003e\r\n\t\t\u003cli\u003e\r\n\t\t\t\u003ci class=\"fa fa-home\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ci class=\"fa fa-angle-right\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ctranslate ng-if=\"'Виды платежей'\"\u003eВиды платежей\u003c/translate\u003e\r\n\t\t\u003c/li\u003e\r\n\t\u003c/ul\u003e\r\n\t\u003cdiv class=\"page-toolbar\"\u003e\r\n\t\t\u003cdiv class=\"btn-group pull-right\"\u003e\r\n\t\t\t\u003ca  href=\"#/mfo/mfo_paybox_pay_typesdetails/0\" type=\"button\" class=\"btn btn-fit-height btn-primary\" translate\u003e\r\n\t\t\t\tAdd\u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/a\u003e\r\n\t\t\t\u003cbutton translate type=\"button\" class=\"btn btn-fit-height green dropdown-toggle\" data-toggle=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\"\u003e\r\n\t\t\tActions \u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/button\u003e\r\n\t\t\t\u003cul class=\"dropdown-menu pull-right\" user=\"menu\"\u003e\r\n\t\t\t\t\u003cng-include src=\"'/restapi/widget/simpletable-select-actions'\" \u003e\r\n\t\t\t\t\u003c/ng-include\u003e\r\n\t\t\t\u003c/ul\u003e\r\n\t\t\u003c/div\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c!-- END PAGE HEADER--\u003e\r\n\r\n\u003cdiv class=\"row well\"\u003e\r\n    \u003cng-include src=\"'/restapi/widget/simpletable-universal-filter'\" \u003e\r\n    \u003c/ng-include\u003e\r\n\u003c/div\u003e\r\n\u003c!-- BEGIN MAIN CONTENT --\u003e\r\n\u003cdiv class=\"row\"\u003e\r\n\t\u003cdiv class=\"col-md-12\"\u003e\r\n\t\t\u003c!--\u003cdiv class=\"note note-danger\"\u003e--\u003e\r\n\t\t\t\u003c!--\u003cp\u003e--\u003e\r\n\t\t\t\t\u003c!--SAMPLE NOTE:--\u003e\r\n\t\t\t\u003c!--\u003c/p\u003e--\u003e\r\n\t\t\u003c!--\u003c/div\u003e--\u003e\r\n\t\t\u003c!-- Begin: life time stats --\u003e\r\n\t\t\u003cdiv class=\"portlet\"\u003e\r\n\t\t\t\u003cdiv class=\"portlet-body\"\u003e\r\n\t\t\t\t\u003cdiv class=\"table-container\"\u003e\r\n\t\t\t\t\t\u003cdiv class=\"table-responsive\"\u003e\r\n\t\t\t\t\t\t\u003ctable st-table=\"rowCollection\"  class=\"table table-striped table-bordered\" \u003e\r\n\t\t\t\t\t\t\t\u003cthead\u003e\r\n    \t\t\t\t\t\t\t\u003ctr\u003e\r\n    \t\t\t\t\t\t\t\t\u003cth class=\"text-center\"\u003e\r\n                    \t\t\t\t\t\u003cdiv ng-if=\"filterSetCols\" class=\"btn-group\"\u003e\t\t\t    \r\n                                \t\t\t\u003ca type=\"button\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\"\u003e\r\n                                    \t\t\t\u003ci class=\"fa fa-columns\"\u003e\u003c/i\u003e\r\n                                \t\t\t\u003c/a\u003e\r\n                                    \t\t\t\u003cul class=\"dropdown-menu\" style=\"left: auto; !important\" role=\"menu\"\u003e\r\n                                                    \u003cli ng-repeat=\"ppb in filterSetCols\" ng-if=\"ppb.is_advanced == 1\"\u003e\r\n                                                        \u003clabel\u003e\r\n                                                            \u003cspan ng-if=\"getShowIsAdvancedCol(ppb)!=null\" ng-init=\"ppb.value = getShowIsAdvancedCol(ppb)\"\u003e\u003c/span\u003e\r\n                                                            \u003ccheckbox ng-model=\"ppb.value\"  ng-change=\"setShowIsAdvancedCol(ppb)\"  ng-true-value=\"1\"   ng-false-value=\"0\" \u003e\u003c/checkbox\u003e\r\n                                                            {{ppb.title}}\r\n                                                        \u003c/label\u003e\r\n                                                    \u003c/li\u003e        \t\t\t    \r\n                                    \t\t\t\u003c/ul\u003e\t\r\n                            \t\t\t\u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\t    \u003cth  class=\"text-center\" ng-repeat=\"col in filterSetCols\" ng-if=\"getShowIsAdvancedCol(col)==1 || col.is_advanced!=1\"\u003e\r\n    \t\t\t\t\t\t\t\t        \u003ca ng-click=\"sortBy(col.alias)\" translate\u003e{{col.title}}\u003c/a\u003e \u003ci ng-if=\"sortFieldAsc \u0026\u0026 sortField == col.alias \" \r\n    \t\t\t\t\t\t\t\t        class=\"fa fa-sort-alpha-asc\"\u003e\u003c/i\u003e\u003ci ng-if=\"sortFieldAsc == false \u0026\u0026 sortField == col.alias\"  class=\"fa fa-sort-alpha-desc\"\u003e\u003c/i\u003e\r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\u003c/tr\u003e\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\u003ctr\u003e\r\n    \t\t\t\t\t\t\t        \u003cth\u003e\r\n    \t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t        \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\t    \u003cth ng-repeat=\"col in filterSetCols\" ng-if=\"getShowIsAdvancedCol(col)==1 || col.is_advanced!=1\"\u003e\r\n    \t\t\t\t\t\t\t\t        \u003cdiv ng-switch=\"col._data_type_code\"\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"integer\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"double\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"serial\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"varchar\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv ng-switch-when = \"reference\"\u003e\r\n    \t\t\t\t\t\t\t\t                    \u003cdu-select query-code=\"{{col._def_sel_query_code}}\"   without-label=\"true\" ng-change=\"editQF(col)\" id-model=\"col._value\" ng-model=\"col._value2\"\u003e\u003c/du-select\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t        \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t       \r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e     \t\t\t\t\t\t\t    \r\n    \t\t\t\t\t\t\t\u003c/tr\u003e\r\n    \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\u003c/thead\u003e\r\n\t\t\t\t\t\t\t\u003ctbody\u003e\r\n\t\t\t\t\t\t\t\u003ctr ng-repeat=\"row in rowCollection\" style=\"background-color:{{row._row_color}}\"\u003e\r\n\t\t\t\t\t\t\t\t\u003ctd\u003e\r\n\t\t\t\t\t\t\t\t\t\u003cng-include src=\"'views/blocks/simpletable-select-checkbox-row.html'\"\u003e\u003c/ng-include\u003e\r\n\t\t\t\t\t\t\t\t\t\u003ca href=\"#/mfo/mfo_paybox_pay_typesdetails/{{row.id}}?lastpage={{currentPage}}\"\u003e \u003ci class=\"fa fa-pencil\"\u003e\u003c/i\u003e\u003c/a\u003e\r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\u003ctd ng-repeat=\"col in filterSetCols\"  ng-if=\"getShowIsAdvancedCol(col)==1 ||  col.is_advanced != 1\"\u003e\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t    \u003cdiv ng-switch=\"col.alias\"\u003e\r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"_value\" class=\"text-right\"\u003e\r\n\t\t\t\t\t\t\t\t            {{row[col.alias] | number : 2}}        \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"amount\" class=\"text-right\"\u003e\r\n\t\t\t\t\t\t\t\t            {{row[col.alias] | number : 2}}        \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"_status_title\" class=\"text-center\"\u003e\r\n\t\t\t\t\t\t\t\t           \u003cspan class=\"{{row._status_color}}\"\u003e\u003ci class=\"{{row._status_icon}}\"\u003e\u003c/i\u003e {{row[col.alias]}} \u003c/span\u003e \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-default\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch=\"col._data_type_code\"\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-when=\"double\"\u003e{{row[col.alias] | number:2}}\u003c/span\u003e \r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-when=\"boolean\"\u003e\u003ci ng-class=\"row[col.alias]!=1?'fa fa-square-o':'fa fa-check-square-o'\"\u003e\u003c/i\u003e\u003c/span\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-default\u003e{{row[col.alias]}}\u003c/span\u003e    \r\n\t\t\t\t\t\t\t\t            \u003c/span\u003e\r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t    \u003c/div\u003e\r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\t\t\t\u003c/tr\u003e\r\n\t\t\t\t\t\t\t\u003c/tbody\u003e\r\n\r\n\t\t\t\t\t\t\t\u003ctfoot\u003e\r\n\t\t\t\t\t\t\t\u003ctr\u003e\r\n\t\t\t\t\t\t\t\t\u003ctd colspan=\"50\" class=\"text-center\"\u003e\r\n\t\t\t\t\t\t\t\t\t\u003cdiv ng-include=\"'views/blocks/simpletable-pagination.html'\"\u003e\u003c/div\u003e\r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\t\t\t\u003c/tr\u003e\r\n\t\t\t\t\t\t\t\u003c/tfoot\u003e\r\n\t\t\t\t\t\t\u003c/table\u003e\r\n\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\t\u003c!-- End: life time stats --\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c/section\u003e\r\n\u003c!-- END MAIN CONTENT --\u003e","templateurl":"","title":"Виды платежей","updated_at":"2020-08-26 08:50:16","url":"/mfo/mfo_paybox_pay_types"},{"code":"mfo_paybox_pay_typesdetails","created_at":"2020-08-26 08:50:16","created_by":"1","db_template":"1","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"5409","is_auto":"1","module$code":"mfo","module_id":"39","page_type$code":"details","page_type_id":"5","sys$uuid":"96394ba0-b777-4ec4-b853-b27355de95fb","template":"\u003c!-- BEGIN PAGE HEADER--\u003e\r\n\u003csection class=\"clearfix container-fluid\" id=\"section-basics\" ng-controller=\"basicsCtrl\"\u003e\r\n\u003cdiv class=\"page-bar\"\u003e\r\n\t\u003cul class=\"page-breadcrumb\"\u003e\r\n\t\t\u003cli\u003e\r\n\t\t\t\u003ci class=\"{{$state.current.data.pageIcon}}\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ca href=\"#/mfo/mfo_paybox_pay_types/?{{lastpagestr}}\" translate\u003eВиды платежей\u003c/a\u003e\r\n\t\t\t\u003ci class=\"fa fa-angle-right\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ctranslate\u003e{{detail.title}}\u003c/translate\u003e\r\n\r\n\t\t\u003c/li\u003e\r\n\r\n\t\u003c/ul\u003e\r\n\t\u003cdiv class=\"page-toolbar\"\u003e\r\n\t\t\u003cdiv class=\"btn-group pull-right\"\u003e\r\n\t\t    \r\n\t\t    \u003cbutton ng-if=\"!editing \u0026\u0026 detail.id != 0 \" class=\"btn btn-primary green\" ng-click=\"pubSubPublish('chooseBPMSModal',{callBack:printCallBack, 'processCode':'exp_template', 'input': {'url':'?code='+table_name+'\u0026amp;ids='+detail.id,'entity_id':$state.current.data.entityId} })\" \u003e\r\n                        \u003ci class=\"fa fa-file-excel-o\"\u003e\u003c/i\u003e \u003ctranslate\u003eПечать\u003c/translate\u003e\r\n            \u003c/button\u003e\t\t    \r\n\t\t    \r\n\t\t\t\u003cbutton ng-if=\"!editing \u0026\u0026 entityActions.length\u003e0\"  type=\"button\" class=\"btn btn-fit-height green dropdown-toggle\" data-toggle=\"dropdown\" data-hover=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\" \u003e\r\n\t\t\t\u003ctranslate\u003eActions\u003c/translate\u003e \u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/button\u003e\r\n\t\t\t\u003cul ng-if=\"!editing\"  class=\"dropdown-menu\" style=\"left: auto; right: 100px;!important\" role=\"menu\"\u003e\r\n                \u003cli ng-repeat= \"action in entityActions\"\u003e\r\n                    \u003ca ng-if=\"action.process_type_code=='entityAction'\" ng-click=\"pubSubPublish('chooseBPMSModal',{callBack:bindCallBack,'processCode':action.code, 'input': {'url':'?code='+table_name+'\u0026amp;ids='+detail.id} })\" \u003e\r\n                        \u003ci class=\"{{action.action_icon}}\"\u003e\u003c/i\u003e \u003ctranslate\u003e{{action.title}}\u003c/translate\u003e\u003c/a\u003e\r\n                        \r\n                    \u003ca ng-if=\"action.process_type_code=='entityActionByID'\" ng-click=\"pubSubPublish('chooseBPMSModal',{callBack:bindCallBack, 'processCode':action.code, 'input': {'id':detail.id} })\" \u003e\r\n                        \u003ci class=\"{{action.action_icon}}\"\u003e\u003c/i\u003e \u003ctranslate\u003e{{action.title}}\u003c/translate\u003e\u003c/a\u003e\r\n                        \r\n                    \u003ca ng-if=\"session_roles.admin\" href=\"#/bpms/modeler/{{action.id}}\" title=\"Диаграмма\"\u003e\u003ci class=\"glyphicon glyphicon-th-large\"\u003e\u003c/i\u003e\u003c/a\u003e\r\n                \u003c/li\u003e\r\n\t\t\t\u003c/ul\u003e\r\n\t\t\t\r\n\t\t    \u003ca ng-if=\"!editing \u0026\u0026 detail.id != 0 \" href=\"#/mfo/mfo_paybox_pay_typesdetails/0\" class=\"btn btn-primary\"\u003e\u003ci class=\"fa fa-plus\"\u003e\u003c/i\u003e  \u003ctranslate\u003eAdd\u003c/translate\u003e\u003c/a\u003e\r\n\t\t\t\u003cbutton ng-if=\"editing\" class=\"btn btn-primary\" ng-click=\"save()\" translate\u003eSave\u003c/button\u003e\r\n\t\t\t\u003cbutton ng-if=\"editing\" class=\"btn btn-warning\" ng-click=\"cancel()\" translate\u003eCancel\u003c/button\u003e\r\n\t\t\t\u003cbutton ng-if=\"!editing\" class=\"btn btn-warning\" translate\u003eSaved\u003c/button\u003e\r\n\t\t\t\u003ca ng-if=\"!editing \u0026\u0026 session_roles.admin\" ng-href=\"#/settings/pagedetails/{{$state.current.data.pageId}}\" class=\"btn btn-warning red\"\u003e\u003ci class=\"fa fa-pencil-square-o\"\u003e\u003c/i\u003e \u003ctranslate\u003eEdit Page\u003c/translate\u003e\u003c/a\u003e\r\n\t\t\u003c/div\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c!-- END PAGE HEADER--\u003e\r\n\u003c!-- BEGIN MAIN CONTENT --\u003e\r\n\u003cdiv class=\"row\"  ng-keydown=\"keyDown($event)\"\u003e\r\n\t\u003cdiv class=\"col-md-12\"\u003e\r\n\t\t\u003c!--\u003cdiv class=\"note note-danger\"\u003e--\u003e\r\n\t\t\t\u003c!--\u003cp\u003e--\u003e\r\n\t\t\t\t\u003c!--NOTE SAMPLE:.--\u003e\r\n\t\t\t\u003c!--\u003c/p\u003e--\u003e\r\n\t\t\u003c!--\u003c/div\u003e--\u003e\r\n\t\t\u003c!-- Begin: life time stats --\u003e\r\n\t\t\u003cdiv class=\"portlet\"\u003e\r\n\t\t\t\u003cdiv class=\"portlet-body\"\u003e\r\n\t\t\t\t\u003cdiv class=\"table-container\"\u003e\r\n\t\t\t\t\t\u003cdiv class=\"portlet-body form\"\u003e\r\n\t\t\t\t\t\t\u003cform role=\"form\"\u003e\r\n\t\t\t\t\t\t\t\u003cdiv class=\"form-body\"\u003e\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t    \u003cdiv ng-if=\"error_code != 'entity_code' \u0026\u0026 error_text \" class=\"form-group\"\u003e\r\n\t\t\t\t\t\t\t        \u003clabel  class=\"text-danger\"\u003e\u003ci class=\"fa fa-warning (alias)\"\u003e\u003c/i\u003e {{error_text}}\u003c/label\u003e\r\n\t\t\t\t\t\t\t    \u003c/div\u003e\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t    \u003cdiv ng-if=\"error_code == 'entity_code' \" class=\"form-group\"\u003e\r\n\t\t\t\t\t\t\t        \u003clabel  class=\"text-danger\"\u003e\u003ci class=\"fa fa-warning (alias)\"\u003e\u003c/i\u003e {{error_text}}\u003c/label\u003e\r\n\t\t\t\t\t\t\t    \u003c/div\u003e\t\r\n\t\t\t\t\t\t\t    \r\n                                    \u003cdiv class = \"row\"\u003e    \r\n\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-label  icon=\"\u003cno value\u003e\"  label=\"Code\" id-model=\"detail.code\" on-change=\"edit\" \u003e\u003c/bu-input-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-label  icon=\"\u003cno value\u003e\"  label=\"Title\" id-model=\"detail.title\" on-change=\"edit\" \u003e\u003c/bu-input-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-3\" ng-show=\"1==1\"\u003e\r\n            \u003cdu-select label=\"Created By\" lookup_page_code=\"users_lookup\" lookup_call_back=\"created_byEditCallBack\" ng-model=\"value.created_by\" icon=\"\u003cno value\u003e\" query-code=\"users_select\" id-model=\"detail.created_by\" ng-change=\"edit()\" \u003e\u003c/du-select\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n\r\n                                \u003c/div\u003e\r\n                                \r\n                                \u003cdiv class=\"row\"\u003e\r\n                                    \r\n                                    \u003cdiv class=\"col-md-12\"\u003e\r\n                                        \r\n\r\n\u003c!--\r\nТабличная часть\r\n--\u003e\r\n\r\n\r\n\r\n\r\n\u003c!--\r\nТабличная часть. Конец\r\n--\u003e\r\n\r\n                                    \u003c/div\u003e                                    \r\n                                \u003c/div\u003e    \r\n\t\t\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\t\t\u003c/form\u003e\r\n\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\t\u003c!-- End: life time stats --\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c/section\u003e\r\n\r\n\r\n\u003cscript type=\"text/javascript\"\u003e\r\n\r\n\r\n\tfunction basicsCtrl($scope,$rootScope, $http,$log,$stateParams,DMLService,RestApiService,UIService,PubSub,$location) {\r\n\r\n\r\n        \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n\r\n    \r\n    \r\n    \r\n        $scope[\"created_byEditCallBack\"] = function(data){\r\n            $scope.detail[\"created_by\"] = data.id;\r\n            $scope.edit();\r\n        }\r\n            \r\n\r\n\r\n\r\n        \r\n        $scope.value = {};\r\n        \r\n        $scope.lastpagestr = $location.search().lastpage?\"page=\"+$location.search().lastpage:\"\";\r\n        \r\n        $scope.pubSubPublish = function(a,b){\r\n            PubSub.publish(a,b);\r\n        }\r\n        \r\n\t\t$scope.edit = function edit(){\r\n\t\t\t$scope.editing = true;\r\n\t\t\t$rootScope.promptExit =true;\r\n\t\t}\r\n\t\t$scope.closeEdit = function (){\r\n\t\t\t$scope.editing = false;\r\n\t\t\t$rootScope.promptExit =false;\r\n\t\t}\r\n\r\n         $scope.keyDown = function(e) {\r\n          if ((e.altKey) \u0026\u0026 (e.shiftKey) \u0026\u0026 (e.keyCode == 83) \u0026\u0026 ($scope.editing)){\r\n            $scope.save();\r\n          }\r\n        };\r\n        \r\n        $scope.bindCallBack = function(params){\r\n            $scope.bind();\r\n        }  \r\n        \r\n        \r\n        $scope.printCallBack = function(params){\r\n            //console.log('printCallBack',params);\r\n            if (params.vars \u0026\u0026 params.vars.file_url){\r\n            location.href = params.vars.file_url;\r\n            }\r\n            //$scope.details.ns.push({_inserted:1, id:0,doc_id:$scope.detail.sys$uuid,nomen_id:params.id,_nomen_title:params.title,quantity:1,price:params.price,amount:params.price});\r\n        \r\n            \r\n        }  \r\n        \r\n\r\n\t\t$scope.bind = function bind(){\r\n\t\t    \r\n\t\t    \r\n\r\n\t\t    Metronic.startPageLoading();\r\n\t\t\tRestApiService.get('detail?code=mfo_paybox_pay_types\u0026id='+$stateParams.id).\r\n\t\t\tsuccess(function(data) {\r\n\t\t\t    Metronic.stopPageLoading();\r\n\t\t\t\t// here the data from the api is assigned to a variable named users\r\n\r\n                $scope.table_name=\"mfo_paybox_pay_types\";\r\n                \r\n                \r\n        \t\tif ($stateParams.id!=0) {\t\t    \r\n        \t    \r\n        \t\tRestApiService.get('services/run/entity_acts?entity_code='+$scope.table_name+\"\u0026id=\"+$stateParams.id).\r\n        \t\tsuccess(function(data) { \r\n        \t\t    $scope.entityActions = data;\r\n        \t\t});\r\n        \t\t}\r\n\t\t\r\n\t\t\r\n                \r\n    \t\t\tRestApiService.get('query/get?code=entity_attrs_by_code\u0026param1='+$scope.table_name).\r\n    \t\t\tsuccess(function(data) { \r\n    \t\t\t    $scope.fields = data.items;\r\n    \t\t\t});\t    \r\n    \t\t\t\r\n\t\t\t\t$scope.closeEdit();\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t\t$scope.detail = {};\r\n\t\t\t\t$scope.detail.id = $stateParams.id;\r\n\t\t\t\tif ($stateParams.id!=0) {\r\n\t\t\t\t\t$scope.detail = data[\"mfo_paybox_pay_types\"][0];\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t    Metronic.setDefaultValuesFromUrl($scope.detail);\r\n                \t//if (Metronic.getParameterByName(\"df_account_id\")!=null){\r\n                \t//\t$scope.detail.account_id = Metronic.getParameterByName(\"df_account_id\");    \r\n                \t//}\r\n                \t$scope.detail.sys$uuid = Metronic.getUUID();\r\n                }\r\n\t\t\t\t\r\n\t\t\t\tPubSub.publish(\"bindBuComponents\",{});\r\n\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t$scope.save = function save(){\r\n\r\n\r\n\r\n\t\t\t$scope.action =  $scope.detail.id == 0 ? \"insert\":\"update\";\r\n\t\t\t\r\n\t\t\t$scope.error_code = \"\"\r\n\t\t\t$scope.error_text = \"\";\r\n\t\t\t\r\n\t\t\tMetronic.startPageLoading();\r\n\t\t\t$scope.saveValues =  [ {table_name:$scope.table_name,action:$scope.action, values: [$scope.detail]}  ];\r\n\t\t\t\r\n\t\t\t\r\n\r\n\r\n\t\t\tDMLService.update( $scope.saveValues ).\r\n\t\t\t\tsuccess(function (data) {\r\n\t\t\t\t\tif (data.error!=\"0\") {\r\n\t\t\t\t\t\t$scope.error_code = data.error_code;\r\n\t\t\t\t\t\t$scope.error_text = data.error_text;\r\n\t\t\t\t\t\tMetronic.stopPageLoading();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ($scope.detail.id == 0) {\r\n\t\t\t\t\t\tdata.items.forEach(function (item, i, arr) {\r\n\t\t\t\t\t\t\tif (item.table_name==$scope.table_name){\r\n\t\t\t\t\t\t\t\tlocation.href = \"#/mfo/mfo_paybox_pay_typesdetails/\" +item.last_insert_id;\r\n\t\t\t\t\t\t\t\tMetronic.stopPageLoading();\r\n\t\t\t\t\t\t\t\t$scope.closeEdit();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t    Metronic.stopPageLoading();\r\n\t\t\t\t\t\t$scope.bind();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t$scope.cancel = function cancel(){\r\n\t\t    \r\n\t\t\t$scope.bind($stateParams.id);\r\n\t\t}\r\n\r\n\t\t$scope.bind($stateParams.id);\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\u003c/script\u003e\r\n\r\n\u003c!-- END MAIN CONTENT --\u003e\r\n","templateurl":"","title":"Виды платежей","updated_at":"2020-08-26 08:50:16","url":"/mfo/mfo_paybox_pay_typesdetails/{id}"}],"queries":[{"code":"mfo_paybox_pay_types","created_at":"2020-08-26 08:50:15","created_by":"1","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"7052","is_auto":"1","sql_text":"select main.*, 1 as '_one', f11420.title as users_11420 from `mfo_paybox_pay_types` main\n\n  \r\nleft join users f11420 on f11420.id=main.created_by   \n\n  %filter% %order% ","sys$uuid":"c941056b-bf50-4a08-9cdf-ac541fb5998a","title":"Виды платежей","updated_at":"2020-08-26 08:50:16"},{"code":"mfo_paybox_pay_types_select","created_at":"2020-08-26 08:50:16","created_by":"1","entity$code":"mfo_paybox_pay_types","entity_id":"1084","id":"7053","is_auto":"1","sql_text":"select main.id,main.code,main.title as name from `mfo_paybox_pay_types` main %filter% %order% ","sys$uuid":"42272868-0390-4b61-b11a-989af052e7d2","title":"Виды платежей","updated_at":"2020-08-26 08:50:16"}],"table_parts":[],"validators":[]},"detail_code":"entities_export","object_type":"entity","object_version":"1.0"}]