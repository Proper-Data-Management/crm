[{"detail":{"_extra":[],"attrs":[{"code":"code","created_at":"2019-03-27 23:14:18","created_by":"1","data_type$code":"varchar","data_type_id":"1","entity$code":"mfo_position_types","entity_id":"994","id":"10142","len":"30","rq":"0","short_title":"Code","sys$uuid":"3104a4e5-a570-4bd0-808d-4c818e36e18b","title":"Code","updated_at":"2019-10-16 17:42:32","uq":"1"},{"code":"created_at","created_at":"2019-03-27 23:14:18","created_by":"1","data_type$code":"current_datetime","data_type_id":"15","entity$code":"mfo_position_types","entity_id":"994","id":"10144","len":"0","rq":"0","short_title":"Created At","sys$uuid":"899997b0-59a5-45a8-9605-f92bd0e9290f","title":"Created At","updated_at":"2019-10-16 17:42:32","uq":"0"},{"code":"created_by","created_at":"2019-03-27 23:14:18","created_by":"1","data_type$code":"reference","data_type_id":"7","entity$code":"mfo_position_types","entity_id":"994","entity_link$code":"users","entity_link_id":"22","id":"10146","is_default_current_user":"1","len":"0","rq":"0","short_title":"Created By","show_col":"0","sys$uuid":"80a8c9cf-6f15-4ccf-9b9c-cdfbb8ab3169","title":"Created By","updated_at":"2019-10-16 17:42:32","uq":"0"},{"code":"id","created_at":"2019-03-27 23:14:18","created_by":"1","data_type$code":"serial","data_type_id":"8","entity$code":"mfo_position_types","entity_id":"994","id":"10141","len":"0","rq":"0","short_title":"Id","sys$uuid":"c159df6c-1915-4557-ac55-df1f1061b487","title":"Id","updated_at":"2019-10-16 17:42:32","uq":"0"},{"code":"title","created_at":"2019-03-27 23:14:18","created_by":"1","data_type$code":"varchar","data_type_id":"1","entity$code":"mfo_position_types","entity_id":"994","id":"10143","is_default_current_user":"0","len":"100","rq":"0","short_title":"Title","show_col":"1","sys$uuid":"059f01ac-f77f-48e7-a081-d0792be46a07","title":"Title","updated_at":"2019-10-16 17:42:32","uq":"0"},{"code":"updated_at","created_at":"2019-03-27 23:14:18","created_by":"1","data_type$code":"current_and_on_update_datetime","data_type_id":"16","entity$code":"mfo_position_types","entity_id":"994","id":"10145","len":"0","rq":"0","short_title":"Updated At","sys$uuid":"04f8f7c5-c7f8-4a4f-83dd-008aaac65443","title":"Updated At","updated_at":"2019-10-16 17:42:32","uq":"0"}],"detail_queries":[{"code":"mfo_position_types","created_at":"2019-03-27 23:14:20","created_by":"1","detail$code":"mfo_position_types","detail_id":"2456","id":"2580","is_auto":"1","sql_condition_build_text":"","sql_text":"select main.* from `mfo_position_types` main\r\nwhere main.id=?","table_name":"","title":"mfo_position_types","updated_at":"2019-03-27 23:14:20"}],"details":[{"code":"mfo_position_types","created_at":"2020-04-30 14:11:00","entity$code":"mfo_position_types","entity_id":"994","id":"2456","is_auto":"1","title":"mfo_position_types","updated_at":"0000-00-00 00:00:00"}],"entity_view_limits":[{"code":"mfo_position_types","created_at":"2019-03-27 23:14:21","created_by":"1","entity$code":"mfo_position_types","entity_id":"994","id":"1113","is_auto":"1","subquery":"1 = 1","sys$uuid":"3118c0dc-3108-4a0a-ab49-b293e9c87934","title":"Занимаемая должность","updated_at":"2019-03-27 23:14:21"}],"filter_set_dtls":[{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2019-04-13 21:06:35","entity_attr$code":"code","entity_attr_id":"10142","id":"32482","set$code":"mfo_position_types","set_id":"2569","sys$uuid":"34ad1de0-f757-4ea3-9d5f-7b1b817e1627","updated_at":"2019-04-13 21:06:35"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2019-04-13 21:06:35","entity_attr$code":"created_at","entity_attr_id":"10144","id":"32483","set$code":"mfo_position_types","set_id":"2569","sys$uuid":"3b3ea61d-8cd9-4186-8795-cde55ef3710d","updated_at":"2019-04-13 21:06:35"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2019-04-13 21:06:35","entity_attr$code":"created_by","entity_attr_id":"10146","id":"32484","is_advanced":"0","set$code":"mfo_position_types","set_id":"2569","sys$uuid":"ea0e2633-00d3-4ca1-a82a-9185d521751c","updated_at":"2019-04-13 21:06:35"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2019-04-13 21:06:35","entity_attr$code":"id","entity_attr_id":"10141","id":"32485","set$code":"mfo_position_types","set_id":"2569","sys$uuid":"d32697b5-7d14-4f13-b2b5-aa47dc284df4","updated_at":"2019-04-13 21:06:35"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2019-04-13 21:06:35","entity_attr$code":"title","entity_attr_id":"10143","id":"32486","set$code":"mfo_position_types","set_id":"2569","sys$uuid":"72acbb68-5107-4d0b-ba7d-62e9fb79c0a4","updated_at":"2019-04-13 21:06:35"},{"alias":"main","col$code":"col-md-6","col_id":"1","created_at":"2019-04-13 21:06:35","entity_attr$code":"updated_at","entity_attr_id":"10145","id":"32487","set$code":"mfo_position_types","set_id":"2569","sys$uuid":"d1501ee1-2676-411b-9daa-63aa7ef04fb6","updated_at":"2019-04-13 21:06:35"}],"filter_sets":[{"code":"mfo_position_types","created_at":"2019-03-27 23:14:20","created_by":"1","entity$code":"mfo_position_types","entity_id":"994","id":"2569","is_auto":"1","sys$uuid":"894f2daf-487e-4f64-94dd-e16b8d9e1fd7","title":"Занимаемая должность","updated_at":"2019-03-27 23:14:20"}],"main":[{"code":"mfo_position_types","created_at":"2019-03-27 23:14:15","created_by":"1","def_sel_query$code":"mfo_position_types_select","def_sel_query_id":"6174","detail_id":"2456","detail_page_id":"4954","entity_type$code":"reference","entity_type_id":"1","id":"994","is_full_audit":"0","list_page_id":"4953","module$code":"mfo","module_id":"39","rewrite_cloud":"0","sys$uuid":"26f240ef-cfd6-4c4d-a1ac-4c670e7f6347","title":"Занимаемая должность","to_cloud":"0","updated_at":"2019-03-27 23:14:21"}],"pages":[{"code":"mfo_position_types","created_at":"2019-03-27 23:14:20","created_by":"1","db_template":"1","entity$code":"mfo_position_types","entity_id":"994","filter_set_id":"2569","filter_sets$code":"mfo_position_types","id":"4953","is_auto":"1","module$code":"mfo","module_id":"39","page_type$code":"list","page_type_id":"1","query$code":"mfo_position_types","query_id":"6173","sys$uuid":"08cc9bd8-f0d6-4471-b300-e0a790c431e2","template":"\r\n\u003csection class=\"clearfix container-fluid\" id=\"section-basics\"\r\n\t\t ng-init=\"init({pageData:$state.current.data,currentPage:1,perPage:25,table_name:$state.current.data.pageQueryCode})\"\r\n\t\t ng-controller=\"SimpleTableController\"\u003e\r\n\u003cdiv class=\"page-bar\"\u003e\r\n\t\u003cul class=\"page-breadcrumb\"\u003e\r\n\t\t\u003cli\u003e\r\n\t\t\t\u003ci class=\"fa fa-home\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ci class=\"fa fa-angle-right\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ctranslate ng-if=\"'Занимаемая должность'\"\u003eЗанимаемая должность\u003c/translate\u003e\r\n\t\t\u003c/li\u003e\r\n\t\u003c/ul\u003e\r\n\t\u003cdiv class=\"page-toolbar\"\u003e\r\n\t\t\u003cdiv class=\"btn-group pull-right\"\u003e\r\n\t\t\t\u003ca  href=\"#%2fmfo%2fmfo_position_typesdetails/0\" type=\"button\" class=\"btn btn-fit-height btn-primary\" translate\u003e\r\n\t\t\t\tAdd\u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/a\u003e\r\n\t\t\t\u003cbutton translate type=\"button\" class=\"btn btn-fit-height green dropdown-toggle\" data-toggle=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\"\u003e\r\n\t\t\tActions \u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/button\u003e\r\n\t\t\t\u003cul class=\"dropdown-menu pull-right\" user=\"menu\"\u003e\r\n\t\t\t\t\u003cng-include src=\"'/restapi/widget/simpletable-select-actions'\" \u003e\r\n\t\t\t\t\u003c/ng-include\u003e\r\n\t\t\t\u003c/ul\u003e\r\n\t\t\u003c/div\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\r\n\r\n\u003cdiv class=\"row well\"\u003e\r\n    \u003cng-include src=\"'/restapi/widget/simpletable-universal-filter'\" \u003e\r\n    \u003c/ng-include\u003e\r\n\u003c/div\u003e\r\n\r\n\u003cdiv class=\"row\"\u003e\r\n\t\u003cdiv class=\"col-md-12\"\u003e\r\n\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t\t\u003cdiv class=\"portlet\"\u003e\r\n\t\t\t\u003cdiv class=\"portlet-body\"\u003e\r\n\t\t\t\t\u003cdiv class=\"table-container\"\u003e\r\n\t\t\t\t\t\u003cdiv class=\"table-responsive\"\u003e\r\n\t\t\t\t\t\t\u003ctable st-table=\"rowCollection\"  class=\"table table-striped table-bordered\" \u003e\r\n\t\t\t\t\t\t\t\u003cthead\u003e\r\n    \t\t\t\t\t\t\t\u003ctr\u003e\r\n    \t\t\t\t\t\t\t\t\u003cth class=\"text-center\"\u003e\r\n                    \t\t\t\t\t\u003cdiv ng-if=\"filterSetCols\" class=\"btn-group\"\u003e\t\t\t    \r\n                                \t\t\t\u003ca type=\"button\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\"\u003e\r\n                                    \t\t\t\u003ci class=\"fa fa-columns\"\u003e\u003c/i\u003e\r\n                                \t\t\t\u003c/a\u003e\r\n                                    \t\t\t\u003cul class=\"dropdown-menu\" style=\"left: auto; !important\" role=\"menu\"\u003e\r\n                                                    \u003cli ng-repeat=\"ppb in filterSetCols\" ng-if=\"ppb.is_advanced == 1\"\u003e\r\n                                                        \u003clabel\u003e\r\n                                                            \u003cspan ng-if=\"getShowIsAdvancedCol(ppb)!=null\" ng-init=\"ppb.value = getShowIsAdvancedCol(ppb)\"\u003e\u003c/span\u003e\r\n                                                            \u003ccheckbox ng-model=\"ppb.value\"  ng-change=\"setShowIsAdvancedCol(ppb)\"  ng-true-value=\"1\"   ng-false-value=\"0\" \u003e\u003c/checkbox\u003e\r\n                                                            {{ppb.title}}\r\n                                                        \u003c/label\u003e\r\n                                                    \u003c/li\u003e        \t\t\t    \r\n                                    \t\t\t\u003c/ul\u003e\t\r\n                            \t\t\t\u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\t    \u003cth  class=\"text-center\" ng-repeat=\"col in filterSetCols\" ng-if=\"getShowIsAdvancedCol(col)==1 || col.is_advanced!=1\"\u003e\r\n    \t\t\t\t\t\t\t\t        \u003ca ng-click=\"sortBy(col.alias)\" translate\u003e{{col.title}}\u003c/a\u003e \u003ci ng-if=\"sortFieldAsc \u0026\u0026 sortField == col.alias \" \r\n    \t\t\t\t\t\t\t\t        class=\"fa fa-sort-alpha-asc\"\u003e\u003c/i\u003e\u003ci ng-if=\"sortFieldAsc == false \u0026\u0026 sortField == col.alias\"  class=\"fa fa-sort-alpha-desc\"\u003e\u003c/i\u003e\r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\u003c/tr\u003e\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\u003ctr\u003e\r\n    \t\t\t\t\t\t\t        \u003cth\u003e\r\n    \t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t        \u003c/th\u003e\r\n    \t\t\t\t\t\t\t\t    \u003cth ng-repeat=\"col in filterSetCols\" ng-if=\"getShowIsAdvancedCol(col)==1 || col.is_advanced!=1\"\u003e\r\n    \t\t\t\t\t\t\t\t        \u003cdiv ng-switch=\"col._data_type_code\"\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"integer\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"double\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"serial\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \u003cdiv class=\"form-group\" ng-switch-when = \"varchar\"\u003e\r\n    \t\t\t\t\t\t\t\t                \r\n    \t\t\t\t\t\t\t\t                 \u003cinput type=\"text\" ng-keydown=\"QFKeyDown(col,$event)\" ng-model=\"col._value\"   class=\"form-control\" /\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t            \u003cdiv ng-switch-when = \"reference\"\u003e\r\n    \t\t\t\t\t\t\t\t                    \u003cdu-select query-code=\"{{col._def_sel_query_code}}\"   without-label=\"true\" ng-change=\"editQF(col)\" id-model=\"col._value\" ng-model=\"col._value2\"\u003e\u003c/du-select\u003e\r\n    \t\t\t\t\t\t\t\t            \u003c/div\u003e    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t            \r\n    \t\t\t\t\t\t\t\t        \u003c/div\u003e\r\n    \t\t\t\t\t\t\t\t       \r\n    \t\t\t\t\t\t\t\t    \u003c/th\u003e     \t\t\t\t\t\t\t    \r\n    \t\t\t\t\t\t\t\u003c/tr\u003e\r\n    \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\u003c/thead\u003e\r\n\t\t\t\t\t\t\t\u003ctbody\u003e\r\n\t\t\t\t\t\t\t\u003ctr ng-repeat=\"row in rowCollection\" style=\"background-color:{{row._row_color}}\"\u003e\r\n\t\t\t\t\t\t\t\t\u003ctd\u003e\r\n\t\t\t\t\t\t\t\t\t\u003cng-include src=\"'views/blocks/simpletable-select-checkbox-row.html'\"\u003e\u003c/ng-include\u003e\r\n\t\t\t\t\t\t\t\t\t\u003ca href=\"#%2fmfo%2fmfo_position_typesdetails/{{row.id}}?lastpage={{currentPage}}\"\u003e \u003ci class=\"fa fa-pencil\"\u003e\u003c/i\u003e\u003c/a\u003e\r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\u003ctd ng-repeat=\"col in filterSetCols\"  ng-if=\"getShowIsAdvancedCol(col)==1 ||  col.is_advanced != 1\"\u003e\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t    \u003cdiv ng-switch=\"col.alias\"\u003e\r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"_value\" class=\"text-right\"\u003e\r\n\t\t\t\t\t\t\t\t            {{row[col.alias] | number : 2}}        \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"amount\" class=\"text-right\"\u003e\r\n\t\t\t\t\t\t\t\t            {{row[col.alias] | number : 2}}        \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-when=\"_status_title\" class=\"text-center\"\u003e\r\n\t\t\t\t\t\t\t\t           \u003cspan class=\"{{row._status_color}}\"\u003e\u003ci class=\"{{row._status_icon}}\"\u003e\u003c/i\u003e {{row[col.alias]}} \u003c/span\u003e \r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \u003cdiv ng-switch-default\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch=\"col._data_type_code\"\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-when=\"double\"\u003e{{row[col.alias] | number:2}}\u003c/span\u003e \r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-when=\"boolean\"\u003e\u003ci ng-class=\"row[col.alias]!=1?'fa fa-square-o':'fa fa-check-square-o'\"\u003e\u003c/i\u003e\u003c/span\u003e\r\n\t\t\t\t\t\t\t\t            \u003cspan ng-switch-default\u003e{{row[col.alias]}}\u003c/span\u003e    \r\n\t\t\t\t\t\t\t\t            \u003c/span\u003e\r\n\t\t\t\t\t\t\t\t        \u003c/div\u003e\t\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t    \u003c/div\u003e\r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\t\t\t\u003c/tr\u003e\r\n\t\t\t\t\t\t\t\u003c/tbody\u003e\r\n\r\n\t\t\t\t\t\t\t\u003ctfoot\u003e\r\n\t\t\t\t\t\t\t\u003ctr\u003e\r\n\t\t\t\t\t\t\t\t\u003ctd colspan=\"50\" class=\"text-center\"\u003e\r\n\t\t\t\t\t\t\t\t\t\u003cdiv ng-include=\"'views/blocks/simpletable-pagination.html'\"\u003e\u003c/div\u003e\r\n\t\t\t\t\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\t\t\t\u003c/tr\u003e\r\n\t\t\t\t\t\t\t\u003c/tfoot\u003e\r\n\t\t\t\t\t\t\u003c/table\u003e\r\n\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\t\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c/section\u003e\r\n","templateurl":"","title":"Занимаемая должность","updated_at":"2019-03-27 23:14:21","url":"/mfo/mfo_position_types"},{"code":"mfo_position_typesdetails","created_at":"2019-03-27 23:14:20","created_by":"1","db_template":"1","entity$code":"mfo_position_types","entity_id":"994","id":"4954","is_auto":"1","module$code":"mfo","module_id":"39","page_type$code":"details","page_type_id":"5","sys$uuid":"531c4adb-7cf4-44ce-9897-90355a2f124a","template":"\r\n\u003csection class=\"clearfix container-fluid\" id=\"section-basics\" ng-controller=\"basicsCtrl\"\u003e\r\n\u003cdiv class=\"page-bar\"\u003e\r\n\t\u003cul class=\"page-breadcrumb\"\u003e\r\n\t\t\u003cli\u003e\r\n\t\t\t\u003ci class=\"{{$state.current.data.pageIcon}}\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ca href=\"#%2fmfo%2fmfo_position_types/?{{lastpagestr}}\" translate\u003eЗанимаемая должность\u003c/a\u003e\r\n\t\t\t\u003ci class=\"fa fa-angle-right\"\u003e\u003c/i\u003e\r\n\t\t\t\u003ctranslate\u003e{{detail.title}}\u003c/translate\u003e\r\n\r\n\t\t\u003c/li\u003e\r\n\r\n\t\u003c/ul\u003e\r\n\t\u003cdiv class=\"page-toolbar\"\u003e\r\n\t\t\u003cdiv class=\"btn-group pull-right\"\u003e\r\n\t\t    \r\n\t\t    \u003cbutton ng-if=\"!editing \u0026\u0026 detail.id != 0 \" class=\"btn btn-primary green\" ng-click=\"pubSubPublish('chooseBPMSModal',{callBack:printCallBack, 'processCode':'exp_template', 'input': {'url':'?code='+table_name+'\u0026amp;ids='+detail.id,'entity_id':$state.current.data.entityId} })\" \u003e\r\n                        \u003ci class=\"fa fa-file-excel-o\"\u003e\u003c/i\u003e \u003ctranslate\u003eПечать\u003c/translate\u003e\r\n            \u003c/button\u003e\t\t    \r\n\t\t    \r\n\t\t\t\u003cbutton ng-if=\"!editing \u0026\u0026 entityActions.length\u003e0\"  type=\"button\" class=\"btn btn-fit-height green dropdown-toggle\" data-toggle=\"dropdown\" data-hover=\"dropdown\" data-delay=\"1000\" data-close-others=\"true\" \u003e\r\n\t\t\t\u003ctranslate\u003eActions\u003c/translate\u003e \u003ci class=\"fa fa-angle-down\"\u003e\u003c/i\u003e\r\n\t\t\t\u003c/button\u003e\r\n\t\t\t\u003cul ng-if=\"!editing\"  class=\"dropdown-menu\" style=\"left: auto; right: 100px;!important\" role=\"menu\"\u003e\r\n                \u003cli ng-repeat= \"action in entityActions\"\u003e\r\n                    \u003ca ng-click=\"pubSubPublish('chooseBPMSModal',{'processCode':action.code, 'input': {'url':'?code='+table_name+'\u0026amp;ids='+detail.id} })\" \u003e\r\n                        \u003ci class=\"{{action.action_icon}}\"\u003e\u003c/i\u003e \u003ctranslate\u003e{{action.title}}\u003c/translate\u003e\u003c/a\u003e\r\n                        \r\n                    \u003ca ng-if=\"session_roles.admin\" href=\"#/bpms/modeler/{{action.id}}\" title=\"Диаграмма\"\u003e\u003ci class=\"glyphicon glyphicon-th-large\"\u003e\u003c/i\u003e\u003c/a\u003e\r\n                \u003c/li\u003e\r\n\t\t\t\u003c/ul\u003e\r\n\t\t\t\r\n\t\t    \u003ca ng-if=\"!editing \u0026\u0026 detail.id != 0 \" href=\"#%2fmfo%2fmfo_position_typesdetails/0\" class=\"btn btn-primary\"\u003e\u003ci class=\"fa fa-plus\"\u003e\u003c/i\u003e  \u003ctranslate\u003eAdd\u003c/translate\u003e\u003c/a\u003e\r\n\t\t\t\u003cbutton ng-if=\"editing\" class=\"btn btn-primary\" ng-click=\"save()\" translate\u003eSave\u003c/button\u003e\r\n\t\t\t\u003cbutton ng-if=\"editing\" class=\"btn btn-warning\" ng-click=\"cancel()\" translate\u003eCancel\u003c/button\u003e\r\n\t\t\t\u003cbutton ng-if=\"!editing\" class=\"btn btn-warning\" translate\u003eSaved\u003c/button\u003e\r\n\t\t\t\u003ca ng-if=\"!editing \u0026\u0026 session_roles.admin\" ng-href=\"#/settings/pagedetails/{{$state.current.data.pageId}}\" class=\"btn btn-warning red\"\u003e\u003ci class=\"fa fa-pencil-square-o\"\u003e\u003c/i\u003e \u003ctranslate\u003eEdit Page\u003c/translate\u003e\u003c/a\u003e\r\n\t\t\u003c/div\u003e\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\r\n\r\n\u003cdiv class=\"row\"  ng-keydown=\"keyDown($event)\"\u003e\r\n\t\u003cdiv class=\"col-md-12\"\u003e\r\n\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t\t\u003cdiv class=\"portlet\"\u003e\r\n\t\t\t\u003cdiv class=\"portlet-body\"\u003e\r\n\t\t\t\t\u003cdiv class=\"table-container\"\u003e\r\n\t\t\t\t\t\u003cdiv class=\"portlet-body form\"\u003e\r\n\t\t\t\t\t\t\u003cform role=\"form\"\u003e\r\n\t\t\t\t\t\t\t\u003cdiv class=\"form-body\"\u003e\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t    \u003cdiv ng-if=\"error_code != 'entity_code' \u0026\u0026 error_text \" class=\"form-group\"\u003e\r\n\t\t\t\t\t\t\t        \u003clabel  class=\"text-danger\"\u003e\u003ci class=\"fa fa-warning (alias)\"\u003e\u003c/i\u003e {{error_text}}\u003c/label\u003e\r\n\t\t\t\t\t\t\t    \u003c/div\u003e\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t    \u003cdiv ng-if=\"error_code == 'entity_code' \" class=\"form-group\"\u003e\r\n\t\t\t\t\t\t\t        \u003clabel  class=\"text-danger\"\u003e\u003ci class=\"fa fa-warning (alias)\"\u003e\u003c/i\u003e {{error_text}}\u003c/label\u003e\r\n\t\t\t\t\t\t\t    \u003c/div\u003e\t\r\n\t\t\t\t\t\t\t    \r\n                                    \u003cdiv class = \"row\"\u003e    \r\n\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-6\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-label  icon=\"\"  label=\"Code\" id-model=\"detail.code\" on-change=\"edit\" \u003e\u003c/bu-input-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-6\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-input-label  icon=\"\"  label=\"Title\" id-model=\"detail.title\" on-change=\"edit\" \u003e\u003c/bu-input-label\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \u003cdiv class=\"col-md-6\" ng-show=\"1==1\"\u003e\r\n            \u003cbu-select label=\"Created By\" value=\"value.created_by\" icon=\"\" query-code=\"users_select\" id-model=\"detail.created_by\" on-change=\"edit\" \u003e\u003c/bu-select\u003e\r\n        \u003c/div\u003e\r\n\r\n\r\n\r\n\r\n                                \u003c/div\u003e\r\n                                \r\n                                \u003cdiv class=\"row\"\u003e\r\n                                    \r\n                                    \u003cdiv class=\"col-md-12\"\u003e\r\n                                        \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                    \u003c/div\u003e                                    \r\n                                \u003c/div\u003e    \r\n\t\t\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\t\t\u003c/form\u003e\r\n\t\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\t\r\n\t\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003c/section\u003e\r\n\r\n\r\n\u003cscript type=\"text/javascript\"\u003e\r\n\r\n\r\n\tfunction basicsCtrl($scope,$rootScope, $http,$log,$stateParams,DMLService,RestApiService,UIService,PubSub,$location) {\r\n\r\n\r\n        \r\n\r\n        \r\n        $scope.value = {};\r\n        \r\n        $scope.lastpagestr = $location.search().lastpage?\"page=\"+$location.search().lastpage:\"\";\r\n        \r\n        $scope.pubSubPublish = function(a,b){\r\n            PubSub.publish(a,b);\r\n        }\r\n        \r\n\t\t$scope.edit = function edit(){\r\n\t\t\t$scope.editing = true;\r\n\t\t\t$rootScope.promptExit =true;\r\n\t\t}\r\n\t\t$scope.closeEdit = function (){\r\n\t\t\t$scope.editing = false;\r\n\t\t\t$rootScope.promptExit =false;\r\n\t\t}\r\n\r\n         $scope.keyDown = function(e) {\r\n          if ((e.altKey) \u0026\u0026 (e.shiftKey) \u0026\u0026 (e.keyCode == 83) \u0026\u0026 ($scope.editing)){\r\n            $scope.save();\r\n          }\r\n        };\r\n        \r\n        \r\n        $scope.printCallBack = function(params){\r\n            \r\n            if (params.vars \u0026\u0026 params.vars.file_url){\r\n            location.href = params.vars.file_url;\r\n            }\r\n            \r\n        \r\n            \r\n        }  \r\n        \r\n\r\n\t\t$scope.bind = function bind(){\r\n\t\t    \r\n\t\t    \r\n\r\n\t\t    Metronic.startPageLoading();\r\n\t\t\tRestApiService.get('detail?code=mfo_position_types\u0026id='+$stateParams.id).\r\n\t\t\tsuccess(function(data) {\r\n\t\t\t    Metronic.stopPageLoading();\r\n\t\t\t\t\r\n\r\n                $scope.table_name=\"mfo_position_types\";\r\n                \r\n                \r\n        \t\tif ($stateParams.id!=0) {\t\t    \r\n        \t    \r\n        \t\tRestApiService.get('services/run/entity_acts?entity_code='+$scope.table_name+\"\u0026id=\"+$stateParams.id).\r\n        \t\tsuccess(function(data) { \r\n        \t\t    $scope.entityActions = data;\r\n        \t\t});\r\n        \t\t}\r\n\t\t\r\n\t\t\r\n                \r\n    \t\t\tRestApiService.get('query/get?code=entity_attrs_by_code\u0026param1='+$scope.table_name).\r\n    \t\t\tsuccess(function(data) { \r\n    \t\t\t    $scope.fields = data.items;\r\n    \t\t\t});\t    \r\n    \t\t\t\r\n\t\t\t\t$scope.closeEdit();\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t\t$scope.detail = {};\r\n\t\t\t\t$scope.detail.id = $stateParams.id;\r\n\t\t\t\tif ($stateParams.id!=0) {\r\n\t\t\t\t\t$scope.detail = data[\"mfo_position_types\"][0];\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t    Metronic.setDefaultValuesFromUrl($scope.detail);\r\n                \t\r\n                \t\r\n                \t\r\n                \t$scope.detail.sys$uuid = Metronic.getUUID();\r\n                }\r\n\t\t\t\t\r\n\t\t\t\tPubSub.publish(\"bindBuComponents\",{});\r\n\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t$scope.save = function save(){\r\n\r\n\r\n\r\n\t\t\t$scope.action =  $scope.detail.id == 0 ? \"insert\":\"update\";\r\n\t\t\t\r\n\t\t\t$scope.error_code = \"\"\r\n\t\t\t$scope.error_text = \"\";\r\n\t\t\t\r\n\t\t\tMetronic.startPageLoading();\r\n\t\t\t$scope.saveValues =  [ {table_name:$scope.table_name,action:$scope.action, values: [$scope.detail]}  ];\r\n\t\t\t\r\n\t\t\t\r\n\r\n\r\n\t\t\tDMLService.update( $scope.saveValues ).\r\n\t\t\t\tsuccess(function (data) {\r\n\t\t\t\t\tif (data.error!=\"0\") {\r\n\t\t\t\t\t\t$scope.error_code = data.error_code;\r\n\t\t\t\t\t\t$scope.error_text = data.error_text;\r\n\t\t\t\t\t\tMetronic.stopPageLoading();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ($scope.detail.id == 0) {\r\n\t\t\t\t\t\tdata.items.forEach(function (item, i, arr) {\r\n\t\t\t\t\t\t\tif (item.table_name==$scope.table_name){\r\n\t\t\t\t\t\t\t\tlocation.href = \"#\\/mfo\\/mfo_position_typesdetails/\" +item.last_insert_id;\r\n\t\t\t\t\t\t\t\tMetronic.stopPageLoading();\r\n\t\t\t\t\t\t\t\t$scope.closeEdit();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t    Metronic.stopPageLoading();\r\n\t\t\t\t\t\t$scope.bind();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t$scope.cancel = function cancel(){\r\n\t\t    \r\n\t\t\t$scope.bind($stateParams.id);\r\n\t\t}\r\n\r\n\t\t$scope.bind($stateParams.id);\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\u003c/script\u003e\r\n\r\n\r\n","templateurl":"","title":"Занимаемая должность","updated_at":"2019-03-27 23:14:20","url":"/mfo/mfo_position_typesdetails/{id}"}],"queries":[{"code":"mfo_position_types","created_at":"2019-03-27 23:14:19","created_by":"1","entity$code":"mfo_position_types","entity_id":"994","id":"6173","is_auto":"1","sql_text":"select main.*, 1 as '_one', f10146.title as users_10146 from `mfo_position_types` main\n\n  \r\nleft join users f10146 on f10146.id=main.created_by   \n\n  %filter% %order% ","sys$uuid":"5a37958e-dd26-4d28-a73c-91143df1827c","title":"Занимаемая должность","updated_at":"2019-03-27 23:14:21"},{"code":"mfo_position_types_select","created_at":"2019-03-27 23:14:21","created_by":"1","entity$code":"mfo_position_types","entity_id":"994","id":"6174","is_auto":"1","sql_text":"select main.id,main.code,main.title as name from `mfo_position_types` main %filter% %order% ","sys$uuid":"0647808c-6fe7-4ace-812e-ade015b062cd","title":"Занимаемая должность","updated_at":"2019-03-27 23:14:21"}],"table_parts":[],"validators":[]},"detail_code":"entities_export","object_type":"entity","object_version":"1.0"}]